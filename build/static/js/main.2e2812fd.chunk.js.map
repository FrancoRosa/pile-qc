{"version":3,"sources":["api.js","FileInput.jsx","App.jsx","model.js","index.js"],"names":["uploadFile","file","epsg","a","console","log","url","formData","FormData","append","axios","post","headers","response","data","message","points","length","FileInput","useState","path","setPath","name","setName","fileStatus","setFileStatus","loading","setLoading","setPoints","useStoreActions","actions","useStoreState","state","setFile","useEffect","document","querySelector","addEventListener","e","localPath","target","files","localName","className","type","accept","onClick","then","res","catch","mapboxgl","workerClass","require","default","colorsFill","App","showInfo","setShowInfo","showUpload","setShowUpload","showSearch","setShowSearch","found","setFound","targetPile","setTargetPile","relatedPoints","setRelatedPoints","searchInput","useRef","INITIAL_VIEW_STATE","longitude","lng_field","latitude","lat_field","zoom","maxZoom","pitch","bearing","view","setView","initialViewState","controller","getTooltip","object","order","pile_id","angle_g_error","x_g_error","y_g_error","mapboxApiAccessToken","diskResolution","radius","extruded","pickable","elevationScale","getPosition","d","getFillColor","point","get_color","getLineColor","getElevation","z_field","z_design","upperEdge","filter","p","lowerEdge","lng_design","lat_design","wireframe","lineWidthMaxPixels","lineWidthMinPixels","getRadius","getColor","filled","stroked","opacity","y_design","x_design","classList","add","setTimeout","ref","query","current","value","toLowerCase","result","includes","splice","map","f","handlePileSearch","getSavedStorage","key","JSON","parse","window","localStorage","getItem","initial","setSavedStorage","obj","setItem","stringify","action","store","createStore","model","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2e2812fd.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// const host = \"localhost:10000\";\nconst host = \"161.35.178.247:10000\";\n\nexport const uploadFile = async (file, epsg) => {\n  console.log(\"... uploading file\");\n  const url = `http://${host}/api/file`;\n  let formData = new FormData();\n  formData.append(\"file\", file);\n  formData.append(\"code\", epsg);\n  const response = await axios.post(url, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    },\n  });\n  console.log(response.data.message);\n  console.log(response.data.points.length);\n  return response.data;\n};\n","import { useStoreActions, useStoreState } from \"easy-peasy\";\nimport { useEffect, useState } from \"react\";\nimport { uploadFile } from \"./api\";\n\nconst FileInput = () => {\n  const [path, setPath] = useState(\"\");\n  const [name, setName] = useState(\"Nothing selected yet\");\n  const [fileStatus, setFileStatus] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const setPoints = useStoreActions((actions) => actions.setPoints);\n  const points = useStoreState((state) => state.points);\n  const setFile = useStoreActions((actions) => actions.setFile);\n\n  useEffect(() => {\n    const handleFiles = (e) => {\n      let localPath = e.target.files[0];\n      let localName = e.target.files[0].name;\n      setPath(localPath);\n      setName(localName);\n    };\n\n    const inputElement = document.querySelector(\".file-input\");\n    inputElement.addEventListener(\"change\", handleFiles, false);\n  }, []);\n\n  const handleFiles = (file) => {\n    setFileStatus(null);\n    setLoading(true);\n    uploadFile(file)\n      .then((res) => {\n        setFileStatus(res.message);\n        setPoints(res.points);\n        setLoading(false);\n        setFile(name);\n      })\n      .catch(() => {\n        setFileStatus(false);\n        setPoints([]);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"columns\">\n      <div className=\"column file has-name\">\n        <label className=\"file-label\">\n          <input className=\"file-input\" type=\"file\" accept=\".csv, .xlsx\" />\n        </label>\n      </div>\n      <div className=\"column\">\n        {path ? (\n          <div className=\"is-flex is-justify-content-center\">\n            <button\n              className=\"button is-outlined is-success\"\n              onClick={() => handleFiles(path)}\n            >\n              Upload\n            </button>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n      <div className=\"column\">\n        {loading && (\n          <p className=\"animate__animated animate__zoomIn animate__infinite\">\n            ... Processing{\" \"}\n          </p>\n        )}\n        {fileStatus ? (\n          <div className=\"is-flex is-align-content-center is-flex-direction-column\">\n            <p className={fileStatus ? \"has-text-success\" : \"has-text-fail\"}>\n              {fileStatus ? \"Success\" : \"Fail\"}\n            </p>\n            <p>Piles found: {points.length}</p>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n      <br />\n    </div>\n  );\n};\n\nexport default FileInput;\n","import { DeckGL } from \"@deck.gl/react\";\nimport { NavigationControl, StaticMap } from \"react-map-gl\";\nimport { ColumnLayer, ScatterplotLayer } from \"@deck.gl/layers\";\nimport { useRef, useState } from \"react\";\nimport FileInput from \"./FileInput\";\nimport { useStoreState } from \"easy-peasy\";\nimport mapboxgl from \"mapbox-gl\";\n\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass =\n  // eslint-disable-next-line import/no-webpack-loader-syntax\n  require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nconst MAPBOX_ACCESS_TOKEN =\n  \"pk.eyJ1Ijoia20xMTVmcmFuY28iLCJhIjoiY2t0eXQ3cHBhMGI3aTMxcG14dnN0OHJveSJ9.LWxkBiVPF9UfGWMI4sWakQ\";\n\nconst colors = {\n  black: [0, 0, 0],\n  blue: [0, 0, 255],\n  brown: [165, 42, 42],\n  darkblue: [0, 0, 139],\n  green: [0, 255, 0],\n  lightblue: [135, 206, 235],\n  lightgreen: [144, 238, 144],\n  orange: [255, 165, 0],\n  pink: [255, 105, 180],\n  purple: [128, 0, 128],\n  red: [255, 0, 0],\n  white: [255, 255, 255],\n  yellow: [255, 255, 0],\n};\n\nconst colorsFill = {\n  black: [0, 0, 0, 128],\n  blue: [0, 0, 255, 128],\n  brown: [165, 42, 42, 128],\n  darkblue: [0, 0, 139, 128],\n  green: [0, 255, 0, 128],\n  lightblue: [135, 206, 235, 128],\n  lightgreen: [144, 238, 144, 128],\n  orange: [255, 165, 0, 128],\n  pink: [255, 105, 180, 128],\n  purple: [128, 0, 128, 128],\n  red: [255, 0, 0, 128],\n  white: [255, 255, 255, 128],\n  yellow: [255, 255, 0, 128],\n};\n\nconst get_color = (point) => {\n  if (\"angle_g_error\" in point) {\n    const { angle_g_error, x_g_error, y_g_error } = point;\n    const angle_th = 0.69;\n    const x_th = 0.25;\n    const y_th = 0.5;\n    if (angle_g_error > angle_th) {\n      return colorsFill.pink;\n    }\n    if (x_g_error > x_th) {\n      return colorsFill.orange;\n    }\n    if (y_g_error[0] > y_th || y_g_error[1] > y_th) {\n      return colorsFill.red;\n    }\n    return colorsFill.lightgreen;\n  } else {\n    return colorsFill.lightblue;\n  }\n};\n\nconst App = () => {\n  const [showInfo, setShowInfo] = useState(false);\n  const [showUpload, setShowUpload] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [found, setFound] = useState([]);\n  const [targetPile, setTargetPile] = useState({});\n  const [relatedPoints, setRelatedPoints] = useState([]);\n  const searchInput = useRef(null);\n\n  const points = useStoreState((state) => state.points);\n  const file = useStoreState((state) => state.file);\n\n  const INITIAL_VIEW_STATE = {\n    longitude: points.length > 3 ? points[3].lng_field : -93,\n    latitude: points.length > 3 ? points[3].lat_field : 40,\n    zoom: 21,\n    maxZoom: 25,\n    pitch: 60,\n    bearing: 0,\n  };\n  const [view, setView] = useState(INITIAL_VIEW_STATE);\n\n  const handlePileClick = (d) => {\n    const { order } = d.object;\n\n    const upperEdge = points.filter(\n      (p) => p.order[0] === order[0] && p.order[1] === order[1] - 1\n    )[0];\n    const lowerEdge = points.filter(\n      (p) => p.order[0] === order[0] && p.order[1] === order[1] + 1\n    )[0];\n\n    setRelatedPoints([upperEdge, d.object, lowerEdge]);\n    setShowInfo(true);\n  };\n\n  const handleCloseButton = () => {\n    document.querySelector(\".details\").classList.add(\"animate__fadeOutRight\");\n    setTimeout(() => {\n      setShowInfo(false);\n      setRelatedPoints([]);\n    }, 1000);\n  };\n\n  const handleCloseUpload = () => {\n    setShowUpload(false);\n  };\n\n  const handleCloseSearch = () => {\n    setShowSearch(false);\n  };\n\n  const handleShowSearch = () => {\n    setShowSearch(true);\n    setShowUpload(false);\n  };\n\n  const handleShowUpload = () => {\n    setShowUpload(true);\n    setShowSearch(false);\n  };\n\n  const handleSearch = () => {\n    const query = searchInput.current.value.toLowerCase();\n    console.log(query);\n    const result = points.filter((point) =>\n      point.pile_id.toLowerCase().includes(query)\n    );\n    result.splice(10);\n    setFound(result);\n  };\n\n  const handlePileSearch = (f) => {\n    setView({\n      ...view,\n      latitude: f.lat_design,\n      longitude: f.lng_design,\n    });\n    setTargetPile(f);\n  };\n\n  return (\n    <>\n      <DeckGL\n        initialViewState={view}\n        controller={true}\n        getTooltip={({ object }) =>\n          object &&\n          `Order: [${object.order}]\n          Code: ${object.pile_id}\\n\\\n          angle: ${object.angle_g_error}\\n\\\n          Xdiff: ${object.x_g_error}\\n\\\n          Ydiff: ${object.y_g_error}`\n        }\n      >\n        <StaticMap mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}>\n          <NavigationControl />\n        </StaticMap>\n        <ColumnLayer\n          data={points}\n          diskResolution={6}\n          radius={0.2}\n          extruded={true}\n          pickable={true}\n          elevationScale={1}\n          getPosition={(d) => [d.lng_field, d.lat_field]}\n          getFillColor={(d) => get_color(d)}\n          getLineColor={[0, 0, 0]}\n          getElevation={(d) => 2 + d.z_field - d.z_design}\n          onClick={handlePileClick}\n        />\n\n        <ColumnLayer\n          data={points}\n          diskResolution={6}\n          radius={0.2}\n          extruded={true}\n          elevationScale={1}\n          getPosition={(d) => [d.lng_design, d.lat_design]}\n          getFillColor={[0, 30, 0, 30]}\n          getLineColor={[10, 10, 10, 30]}\n          getElevation={2}\n          wireframe\n        />\n        {showInfo && (\n          <ScatterplotLayer\n            lineWidthMaxPixels={3}\n            lineWidthMinPixels={2}\n            getRadius={3}\n            data={relatedPoints}\n            getPosition={(d) => [d.lng_design, d.lat_design]}\n            getColor={[10, 10, 10, 30]}\n            getFillColor={[10, 10, 10, 30]}\n            getLineColor={[10, 10, 10, 30]}\n            filled={true}\n            stroked={true}\n            opacity={0.8}\n          />\n        )}\n        {showSearch && (\n          <ScatterplotLayer\n            lineWidthMaxPixels={3}\n            lineWidthMinPixels={2}\n            getRadius={3}\n            data={[targetPile]}\n            getPosition={(d) => [d.lng_design, d.lat_design]}\n            getColor={[100, 10, 10, 30]}\n            getFillColor={[100, 10, 10, 30]}\n            getLineColor={[100, 10, 10, 30]}\n            filled={true}\n            stroked={true}\n            opacity={0.5}\n          />\n        )}\n      </DeckGL>\n      {showInfo && (\n        <div className=\"details card animate__animated animate__fadeInRight\">\n          <h1>Target pile:</h1>\n          <p>Pile id: {relatedPoints[1].pile_id}</p>\n          <p>N design: {relatedPoints[1].y_design}</p>\n          <p>E design: {relatedPoints[1].x_design}</p>\n          <p>Lat design: {relatedPoints[1].lat_design}</p>\n          <p>Lng design: {relatedPoints[1].lng_design}</p>\n          <hr />\n          <p\n            className={relatedPoints[1].angle_g_error < 0.69 ? \"green\" : \"red\"}\n          >\n            Angle error: {relatedPoints[1].angle_g_error}\n          </p>\n          <p className={relatedPoints[1].x_g_error < 0.25 ? \"green\" : \"red\"}>\n            Easting error: {relatedPoints[1].x_g_error}\n          </p>\n          <p\n            className={\n              relatedPoints[1].y_g_error[0] < 0.25 ||\n              relatedPoints[1].y_g_error[1] < 0.25\n                ? \"green\"\n                : \"red\"\n            }\n          >\n            Northing error: {relatedPoints[1].y_g_error[0]},{\" \"}\n            {relatedPoints[1].y_g_error[0]}\n          </p>\n          <button className=\"button\" onClick={handleCloseButton}>\n            Close\n          </button>\n        </div>\n      )}\n      {showUpload && (\n        <div className=\"upload animate__animated animate__fadeInLeft\">\n          <h1>Upload file</h1>\n          <FileInput />\n          <hr />\n          {file && <p>Current file: {file}</p>}\n          <hr />\n          <button className=\"button\" onClick={handleCloseUpload}>\n            Close\n          </button>\n        </div>\n      )}\n      {!showUpload && (\n        <div className=\"upload animate__animated animate__fadeInLeft\">\n          <button onClick={handleShowUpload}>Upload</button>\n        </div>\n      )}\n      {showSearch && (\n        <div className=\"search animate__animated animate__fadeInLeft\">\n          <h1>Search pile</h1>\n          <input type=\"text\" ref={searchInput} />\n          <button onClick={handleSearch}>Search</button>\n          <hr />\n          {found.map((f) => (\n            <p className=\"pile-list\" onClick={() => handlePileSearch(f)}>\n              {f.pile_id}\n            </p>\n          ))}\n          <hr />\n\n          <button className=\"button\" onClick={handleCloseSearch}>\n            Close\n          </button>\n        </div>\n      )}\n      {!showSearch && !showUpload && (\n        <div className=\"search animate__animated animate__fadeInLeft\">\n          <button onClick={handleShowSearch}>Search</button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import { action } from \"easy-peasy\";\n\nconst getSavedStorage = (key) => {\n  return JSON.parse(window.localStorage.getItem(key)) || initial[key];\n};\n\nconst setSavedStorage = (key, obj) => {\n  window.localStorage.setItem(key, JSON.stringify(obj));\n};\n\nconst initial = {\n  points: [],\n  file: \"\",\n};\n\nexport default {\n  points: getSavedStorage(\"points\"),\n  setPoints: action((state, points) => {\n    state.points = [...points];\n    setSavedStorage(\"points\", points);\n  }),\n  file: getSavedStorage(\"file\"),\n  setFile: action((state, file) => {\n    state.file = [...file];\n    setSavedStorage(\"file\", file);\n  }),\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"animate.css\";\nimport { StoreProvider, createStore } from \"easy-peasy\";\nimport App from \"./App\";\nimport model from \"./model\";\n\nconst store = createStore(model);\n\nReactDOM.render(\n  <React.StrictMode>\n    <StoreProvider store={store}>\n      <App />\n    </StoreProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}